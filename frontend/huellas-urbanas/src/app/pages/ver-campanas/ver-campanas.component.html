<main class="py-12">
  <div class="max-w-4xl mx-auto">
    <!-- Encabezado -->
    <div class="mb-10">
      <h2 class="text-4xl font-bold tracking-tight mb-2">
        Campañas de Rescate
      </h2>
      <p class="text-black/60 dark:text-white/60">
        Participa en campañas para rescatar perros callejeros. La IA sugiere las zonas más adecuadas.
      </p>
    </div>

    <!-- Botones principales -->
    <div class="flex flex-col sm:flex-row gap-4 mb-10">
      <button
        class="flex-1 sm:flex-none justify-center whitespace-nowrap bg-primary text-black font-bold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity"
        (click)="cargarCampanas()">
        Ver Campañas Activas
      </button>
      <button
        class="flex-1 sm:flex-none justify-center whitespace-nowrap bg-primary/20 dark:bg-primary/30 text-black dark:text-white font-bold py-3 px-6 rounded-lg hover:bg-primary/30 dark:hover:bg-primary/40 transition-colors">
        <span class="material-symbols-outlined mr-2">auto_awesome</span>
        Sugerir Zona con IA
      </button>
    </div>

    <!-- Sección Campañas Activas -->
    <div class="flex items-center justify-between mb-6">
      <h3 class="text-2xl font-bold">Campañas Activas</h3>
      <button routerLink="/campanas/crear"
              class="bg-primary/20 dark:bg-primary/30 text-black dark:text-white font-bold py-2 px-4 rounded-lg hover:bg-primary/30 dark:hover:bg-primary/40 transition-colors text-sm">
        Crear Campaña
      </button>
    </div>

    <!-- Listado de campañas -->
    <div class="grid gap-8" *ngIf="campanas.length > 0; else sinCampanas">
      <div *ngFor="let c of campanas"
           class="bg-white dark:bg-background-dark border border-black/10 dark:border-white/10 rounded-xl overflow-hidden flex flex-col md:flex-row">
        <div class="md:w-1/3 h-48 md:h-auto bg-cover bg-center"
             [style.backgroundImage]="'url(' + getImagenUrl(c.imagenUrl) + ')'"></div>

        <div class="p-6 flex flex-col justify-between flex-1">
          <div>
            <h4 class="text-xl font-bold mb-2">{{ c.nombre }}</h4>
            <p class="text-black/60 dark:text-white/60 mb-4">
              {{ c.descripcion }}
            </p>
          </div>
          <div class="flex items-center gap-4">
            <button
              class="bg-primary text-black font-bold py-2 px-5 rounded-lg text-sm hover:opacity-90 transition-opacity">
              Registrarme
            </button>
            <button
              class="bg-primary/20 dark:bg-primary/30 text-black dark:text-white font-medium py-2 px-5 rounded-lg text-sm hover:bg-primary/30 dark:hover:bg-primary/40 transition-colors"
              [routerLink]="['/campanas', c.id]">
              Ver Detalles
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Sin campañas -->
    <ng-template #sinCampanas>
      <p class="text-center text-black/60 dark:text-white/60 mt-10">
        No hay campañas activas actualmente.
      </p>
    </ng-template>

    <!-- Paginación -->
    <div class="flex justify-center items-center mt-8 gap-4" *ngIf="totalPages > 1">
      <button (click)="anteriorPagina()" [disabled]="page === 0"
              class="bg-primary/20 dark:bg-primary/30 py-2 px-4 rounded-lg text-sm hover:bg-primary/30 dark:hover:bg-primary/40 transition-colors">
        Anterior
      </button>
      <span>Página {{ page + 1 }} de {{ totalPages }}</span>
      <button (click)="siguientePagina()" [disabled]="page >= totalPages - 1"
              class="bg-primary/20 dark:bg-primary/30 py-2 px-4 rounded-lg text-sm hover:bg-primary/30 dark:hover:bg-primary/40 transition-colors">
        Siguiente
      </button>
    </div>
  </div>
</main>
